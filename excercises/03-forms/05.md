---
time: 20 min
---

# FormArray

- Change the author FormControl to an FormArray
- Create a getter for this FormArray for easier access
- Create addAuthor and the deleteAuthor Function using the FormArray API (push(new FormControl(...)))
- Insert the new FormArray inside the template using @for for Iterating over the Controls of the newly created FormArray
- Add Buttons for removing and adding an Author FormControl (The Button for Removing an Author needs to be inside the Html created with @for
- Our Backend cannot handle multiple authors - In order for the BookApiService to still work we need to just givin one single Author of this Array

## Hints

<details>
<summary>Tips</summary>

```ts
export class BookNewComponent {
...
  form: FormGroup<BookForm> = this.formBuilder.group({
   ...
    authors: this.formBuilder.array([['', [Validators.required, validAuthorName()]]]),
   ...
  });

  get authors(): FormArray {
    return this.form.controls.authors as FormArray;
  }

  addAuthor() {
    this.authors.controls.push(this.formBuilder.control('', [Validators.required, validAuthorName()]));
  }
  
  deleteAuthor(index: number) {
    this.authors.removeAt(index);
  }
}

````

```html
  <ng-container formArrayName="authors">
  @for(author of authors.controls; track $index){
      <label class="form-field">
        <span>Author</span>
        <input [formControlName]="$index" />
<!-- <small> .... </small>-->

      </label>
      <button (click)="deleteAuthor($index)">
        Remove Author
      </button>
  }
  </ng-container>
```

</details>